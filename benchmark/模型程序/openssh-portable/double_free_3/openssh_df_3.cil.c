/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is true */

#line 216 "/usr/lib/gcc/x86_64-linux-gnu/5/include/stddef.h"
typedef unsigned long size_t;
#line 196 "../stdio.h"
typedef unsigned int u_int___0;
#line 207 "../stdio.h"
typedef unsigned char u_char___0;
#line 12 "openssh_df_3.c"
struct mux_session_confirm_ctx {
   char *cmd ;
   char *term ;
   char **env ;
   u_int___0 rid ;
};
#line 362 "/usr/include/stdio.h"
extern int printf(char const   * __restrict  __format  , ...) ;
#line 466 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__leaf__)) malloc)(size_t __size )  __attribute__((__malloc__)) ;
#line 468
extern  __attribute__((__nothrow__)) void *( __attribute__((__leaf__)) calloc)(size_t __nmemb ,
                                                                               size_t __size )  __attribute__((__malloc__)) ;
#line 483
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) free)(void *__ptr ) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 33 "openssh_df_3.c"
extern int ( /* missing proto */  strlen)() ;
#line 27 "openssh_df_3.c"
void *buffer_get_string_ret(char *buffer , u_int___0 *length_ptr ) 
{ 
  u_char___0 *value ;
  u_int___0 len ;
  int tmp ;
  void *tmp___0 ;

  {
#line 33
  tmp = strlen(buffer);
#line 33
  len = (u_int___0 )tmp;
#line 35
  printf((char const   * __restrict  )"len : %d\n", len);
#line 36
  printf((char const   * __restrict  )"buf : %s\n", buffer);
#line 37
  tmp___0 = malloc((size_t )(len + 1U));
#line 37
  value = (u_char___0 *)tmp___0;
#line 39
  if (len > 10U) {
#line 40
    printf((char const   * __restrict  )"buffer_get_string_ret: buffer_get failed\n");
#line 41
	free((void *)value);
#line 42
	return ((void *)0);
  }
#line 45
  *(value + len) = (u_char___0 )'\000';
#line 47
  if (length_ptr) {
#line 48
    *length_ptr = len;
  }
#line 49
  return ((void *)value);
}
}
#line 93
extern int ( /* missing proto */  strdup)() ;
#line 52 "openssh_df_3.c"
static int process_mux_new_session(int ac , char **av ) 
{ 
  struct mux_session_confirm_ctx *cctx ;
  char *reserved ;
  char *cmd ;
  char *cp ;
  u_int___0 i ;
  u_int___0 len ;
  u_int___0 env_len ;
  void *tmp ;
  u_int___0 tmp___0 ;
  void *tmp___1 ;
  u_int___0 tmp___2 ;
  void *tmp___3 ;
  u_int___0 tmp___4 ;
  void *tmp___5 ;
  int tmp___6 ;

  {
#line 59
  i = (u_int___0 )0;
#line 62
  tmp = calloc((size_t )1, sizeof(*cctx));
#line 62
  cctx = (struct mux_session_confirm_ctx *)tmp;
#line 64
  reserved = (char *)((void *)0);
#line 64
  cmd = reserved;
#line 65
  tmp___0 = i;
#line 65
  i ++;
#line 65
  tmp___1 = buffer_get_string_ret(*(av + tmp___0), (u_int___0 *)((void *)0));
#line 65
  reserved = (char *)tmp___1;
#line 65
  if ((unsigned long )reserved == (unsigned long )((void *)0)) {
#line 65
    goto malf;
  } else {
#line 65
    tmp___2 = i;
#line 65
    i ++;
#line 65
    tmp___3 = buffer_get_string_ret(*(av + tmp___2), & len);
#line 65
    cmd = (char *)tmp___3;
#line 65
    if ((unsigned long )cmd == (unsigned long )((void *)0)) {
      malf: 
#line 68
      free((void *)cctx);
#line 70
      if ((unsigned long )cmd != (unsigned long )((void *)0)) {
#line 71
        free((void *)cmd);
      }
#line 72
      if ((unsigned long )reserved != (unsigned long )((void *)0)) {
#line 73
        free((void *)reserved);
      }
#line 74
      printf((char const   * __restrict  )"%s: malformed message\n", "process_mux_new_session");
#line 75
      return (-1);
    }
  }
#line 77
  free((void *)reserved);
#line 78
  reserved = (char *)((void *)0);
#line 80
  env_len = (u_int___0 )0;
#line 81
  while (i < (u_int___0 )ac) {
#line 83
    tmp___4 = i;
#line 83
    i ++;
#line 83
    tmp___5 = buffer_get_string_ret(*(av + tmp___4), & len);
#line 83
    cp = (char *)tmp___5;
#line 83
    if ((unsigned long )cp == (unsigned long )((void *)0)) {
#line 84
      free((void *)cmd);
#line 85
      goto malf;
    }
#line 88
    free((void *)cp);
  }
#line 91
  printf((char const   * __restrict  )"%s channel request cmd \"%s\"\n", "process_mux_new_session",
         cmd);
#line 93
  tmp___6 = strdup(cmd);
#line 93
  cctx->cmd = (char *)tmp___6;
#line 94
	free((void *)cmd);
#line 95
  cmd = (char *)((void *)0);
#line 97
  free((void *)cctx->cmd);
#line 98
  free((void *)cctx);
#line 100
  return (0);
}
}
#line 103 "openssh_df_3.c"
int main(int argc , char **argv ) 
{ 


  {
#line 104
  if (argc == 1) {
#line 105
    printf((char const   * __restrict  )"no argument%s\n", "");
#line 105
    exit(1);
  }
#line 106
  process_mux_new_session(argc, argv);
#line 107
  return (0);
}
}
